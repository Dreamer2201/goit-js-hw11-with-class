{"mappings":"AACO,MAAMA,EAAO,CAChBC,OAAQC,SAASC,cAAc,gBAC/BC,QAASF,SAASC,cAAc,SAChCE,YAAaH,SAASC,cAAc,UACpCG,UAAWJ,SAASC,cAAc,YAClCI,cAAeL,SAASC,cAAc,cACtCK,YAAaN,SAASC,cAAc,gBCExC,MAAMM,EAAqB,ICPZ,MAKXC,gBACI,MAEMC,EAAM,qEAAiCC,KAAKC,yFAClDC,MAAMH,GACLI,MAAKC,GAAKA,EAAEC,SACZF,MAAKG,GACFC,QAAQC,IAAIF,KAEhBG,YACAT,KAAKC,YAELQ,UAAMC,GACNV,KAAKC,YAAcS,EAjBvBC,cACIX,KAAKC,YAAc,GACnBD,KAAKY,KAAO,IDUpBxB,EAAKC,OAAOwB,iBAAiB,UAG7B,SAAuBC,GACnBA,EAAMC,iBAENR,QAAQC,IAAIM,EAAME,cAAcC,SAAShB,YAAYiB,OACrDrB,EAAmBY,MAAQK,EAAME,cAAcC,SAAShB,YAAYiB,MACpErB,EAAmBC,mBAPvBV,EAAKO,cAAckB,iBAAiB,SASpC,WACIhB,EAAmBC","sources":["src/js/refs.js","src/index.js","src/js/fetchPictures.js"],"sourcesContent":["\nexport const refs = {\n    formEl: document.querySelector('.search-form'),\n    inputEl: document.querySelector('input'),\n    btnSubmitEl: document.querySelector('button'),\n    galleryEl: document.querySelector('.gallery'),\n    btnLoadMoreEl: document.querySelector('.load-more'),\n    totalHitsEl: document.querySelector('.total-hits'),\n};\n","// // import {Notify} from 'notiflix/build/notiflix-notify-aio';\n// import SimpleLightbox from \"simplelightbox\";\n// import \"simplelightbox/dist/simple-lightbox.min.css\";\n// import fetchPictures from './js/fetchPictures';\nimport {refs} from './js/refs';\n// import insertCreatedAnimals from './js/createListAnimals';\n// import smoothScrollToBottomPage from './js/smoothScrollToButtomPage';\nimport PicturesApiService from './js/fetchPictures';\n\nconst picturesApiServise = new PicturesApiService;\n\n// let currentPage = 1;\n// refs.btnLoadMoreEl.classList.add('hide');\n// const lightbox = new SimpleLightbox('.gallery a', { captions: true, captionSelector: 'img', captionsData: 'alt', captionPosition: 'bottom', captionDelay: 250 });\n\nrefs.formEl.addEventListener('submit', onSubmitForm);\nrefs.btnLoadMoreEl.addEventListener('click', onClickBtnLodeMore);\n\nfunction onSubmitForm (event) {\n    event.preventDefault();\n    // refs.btnLoadMoreEl.classList.add('hide');\n    console.log(event.currentTarget.elements.searchQuery.value);\n    picturesApiServise.query = event.currentTarget.elements.searchQuery.value;\n    picturesApiServise.fetchArticles();\n}\nfunction onClickBtnLodeMore () {\n    picturesApiServise.fetchArticles();\n}\n\n       \n// async function convertFetchResults (searchQuery, currentPage) {\n//     try {\n//         const fetchResult = await fetchPictures(searchQuery, currentPage);  \n//         if (currentPage === 1) {\n//             Notify.info(`Hooray! We found ${fetchResult.totalHits} images.`);\n//         }\n//         filterFetchResult(fetchResult);\n//     } catch (error) {console.log(error)}\n// }\n// function filterFetchResult(fetchResult) {\n//     if (currentPage === Math.ceil(fetchResult.totalHits / 40)) {\n//         insertCreatedAnimals(fetchResult.hits);  \n//         refs.btnLoadMoreEl.classList.add('hide');\n//         Notify.info(\"We're sorry, but you've reached the end of search results.\");\n//         smoothScrollToBottomPage();\n//         lightbox.refresh();\n//         return;\n//     } else if (fetchResult.total === 0) {\n//         refs.btnLoadMoreEl.classList.add('hide');\n//         Notify.failure(\"Sorry, there are no images matching your search query. Please try again.\");   \n//         return;\n//     } else { \n//         insertCreatedAnimals(fetchResult.hits);  \n//         refs.btnLoadMoreEl.classList.remove('hide');\n//         smoothScrollToBottomPage();\n//         lightbox.refresh();\n//         return;\n//     }\n// }\n// function clearGalleryList () {\n//     refs.galleryEl.innerHTML = \"\";\n// }\n\n","// import axios from 'axios';\n\nexport default class PicturesApiService {\n    constructor() {\n        this.searchQuery = '';\n        this.page = 1;\n    }\n    fetchArticles () {\n        const BASE_URL = 'https://pixabay.com/api/';\n        const myAPIkey = '29146874-e25e04f0bbd5e8c4fffc4a4f6';\n        const url = `${BASE_URL}?key=${myAPIkey}&q=${this.searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&per_page=20&page=1`;\n        fetch(url)\n        .then(r => r.json())\n        .then(data =>\n            console.log(data));\n    }\n    get query() {\n        this.searchQuery;\n    }\n    set query(newQuery) {\n        this.searchQuery = newQuery;\n    }\n\n}\n\n// const BASE_URL = 'https://pixabay.com/api/';\n// const myAPIkey = '29146874-e25e04f0bbd5e8c4fffc4a4f6';\n// const perPages = 40;\n\n// const fetchPictures = async(searchQuery, page) => {\n//     const response = await axios.get(`${BASE_URL}?key=${myAPIkey}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&per_page=${perPages}&page=${page}`);\n//     return response.data; \n// }\n// export default fetchPictures;"],"names":["$ee27a4d7c64fc8c4$export$21666b427502ea6d","formEl","document","querySelector","inputEl","btnSubmitEl","galleryEl","btnLoadMoreEl","totalHitsEl","$1f0dc3b9307be026$var$picturesApiServise","fetchArticles","url","this","searchQuery","fetch","then","r","json","data","console","log","query","newQuery","constructor","page","addEventListener","event","preventDefault","currentTarget","elements","value"],"version":3,"file":"index.0e78ccd4.js.map"}
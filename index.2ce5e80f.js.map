{"mappings":"AACO,MAAMA,EAAO,CAChBC,OAAQC,SAASC,cAAc,gBAC/BC,QAASF,SAASC,cAAc,SAChCE,YAAaH,SAASC,cAAc,UACpCG,UAAWJ,SAASC,cAAc,YAClCI,cAAeL,SAASC,cAAc,cACtCK,YAAaN,SAASC,cAAc,gBCgBzB,SAAAM,EAA+BC,GAC1C,MAAMC,EAJV,SAA4BD,GACxB,OAAOA,EAAME,QAAO,CAACC,EAAKC,KAASD,SAlB5B,+FADgBE,EAmBkCD,GAfrBE,kCACxBD,EAAQE,sBAAsBF,EAAQG,gBAAgBH,EAAQG,iHAGrDH,EAAQI,sEAERJ,EAAQK,yEAELL,EAAQM,6EAEPN,EAAQO,4CAdpC,IAA0BP,IAmByC,IAGjDQ,CAAkBb,GACjCV,EAAKM,UAAUkB,mBAAmB,YAAab,GChBnD,MAAMc,EAAqB,ICPZ,MAKXC,gBACI,MAEMC,EAAM,qEAAiCC,KAAKC,wFAAwFD,KAAKE,OAC/I,OAAOC,MAAMJ,GACZK,MAAKC,GAAKA,EAAEC,SACZF,MAAKG,IACFP,KAAKQ,gBACED,EAAKE,QAGpBD,gBACIR,KAAKE,MAAO,EAEhBQ,YACIV,KAAKE,KAAO,EAEZS,YACAX,KAAKC,YAELU,UAAMC,GACNZ,KAAKC,YAAcW,EAzBvBC,cACIb,KAAKC,YAAc,GACnBD,KAAKE,KAAO,IDSpB9B,EAAKC,OAAOyC,iBAAiB,UAG7B,SAAuBC,GACnBA,EAAMC,iBAENnB,EAAmBc,MAAQI,EAAME,cAAcC,SAASjB,YAAYkB,MACpEtB,EAAmBa,YASnBtC,EAAKM,UAAU0C,UAAY,GAP3BvB,EAAmBC,gBAAgBM,KAAKvB,MAR5CT,EAAKO,cAAcmC,iBAAiB,SAUpC,WAEIjB,EAAmBC,gBAAgBM,KAAKvB","sources":["src/js/refs.js","src/js/createListAnimals.js","src/index.js","src/js/fetchPictures.js"],"sourcesContent":["\nexport const refs = {\n    formEl: document.querySelector('.search-form'),\n    inputEl: document.querySelector('input'),\n    btnSubmitEl: document.querySelector('button'),\n    galleryEl: document.querySelector('.gallery'),\n    btnLoadMoreEl: document.querySelector('.load-more'),\n    totalHitsEl: document.querySelector('.total-hits'),\n};\n","import {refs} from './refs';\n\n function createOneAnimal (picture) { \n    return `\n    <div class=\"photo-card\">\n    <div class=\"img-thumb\">\n    <a class=\"img-link\" href=\"${picture.largeImageURL}\">\n    <img src=\"${picture.webformatURL}\" alt=\"${picture.tags}\" title=\"${picture.tags}\" loading=\"lazy\"/></a></div>\n    <div class=\"info\">\n      <p class=\"info-item\">\n        <b>Likes: <br> ${picture.likes}</b></p>\n      <p class=\"info-item\">\n        <b>Views: <br> ${picture.views}</b></p>\n      <p class=\"info-item\">\n        <b>Comments: <br> ${picture.comments}</b></p>\n      <p class=\"info-item\">\n        <b>Downloads: <br> ${picture.downloads}</b></p>\n    </div>\n    </div>`\n}\nfunction createListAnimals (array) {\n    return array.reduce((acc, item) => acc + createOneAnimal(item), \"\");\n}\nexport default function insertCreatedAnimals (array) {\n    const result = createListAnimals(array);\n    refs.galleryEl.insertAdjacentHTML('beforeend', result);\n}\n","// // import {Notify} from 'notiflix/build/notiflix-notify-aio';\n// import SimpleLightbox from \"simplelightbox\";\n// import \"simplelightbox/dist/simple-lightbox.min.css\";\n// import fetchPictures from './js/fetchPictures';\nimport {refs} from './js/refs';\nimport insertCreatedAnimals from './js/createListAnimals';\n// import smoothScrollToBottomPage from './js/smoothScrollToButtomPage';\nimport PicturesApiService from './js/fetchPictures';\n\nconst picturesApiServise = new PicturesApiService;\n\n// refs.btnLoadMoreEl.classList.add('hide');\n// const lightbox = new SimpleLightbox('.gallery a', { captions: true, captionSelector: 'img', captionsData: 'alt', captionPosition: 'bottom', captionDelay: 250 });\n\nrefs.formEl.addEventListener('submit', onSubmitForm);\nrefs.btnLoadMoreEl.addEventListener('click', onClickBtnLodeMore);\n\nfunction onSubmitForm (event) {\n    event.preventDefault();\n    // refs.btnLoadMoreEl.classList.add('hide');\n    picturesApiServise.query = event.currentTarget.elements.searchQuery.value;\n    picturesApiServise.resetPage();\n    clearGalleryList();\n    picturesApiServise.fetchArticles().then(insertCreatedAnimals);\n}\nfunction onClickBtnLodeMore () {\n\n    picturesApiServise.fetchArticles().then(insertCreatedAnimals);\n}\nfunction clearGalleryList () {\n    refs.galleryEl.innerHTML = \"\";\n}\n\n       \n// async function convertFetchResults (searchQuery, currentPage) {\n//     try {\n//         const fetchResult = await fetchPictures(searchQuery, currentPage);  \n//         if (currentPage === 1) {\n//             Notify.info(`Hooray! We found ${fetchResult.totalHits} images.`);\n//         }\n//         filterFetchResult(fetchResult);\n//     } catch (error) {console.log(error)}\n// }\n// function filterFetchResult(fetchResult) {\n//     if (currentPage === Math.ceil(fetchResult.totalHits / 40)) {\n//         insertCreatedAnimals(fetchResult.hits);  \n//         refs.btnLoadMoreEl.classList.add('hide');\n//         Notify.info(\"We're sorry, but you've reached the end of search results.\");\n//         smoothScrollToBottomPage();\n//         lightbox.refresh();\n//         return;\n//     } else if (fetchResult.total === 0) {\n//         refs.btnLoadMoreEl.classList.add('hide');\n//         Notify.failure(\"Sorry, there are no images matching your search query. Please try again.\");   \n//         return;\n//     } else { \n//         insertCreatedAnimals(fetchResult.hits);  \n//         refs.btnLoadMoreEl.classList.remove('hide');\n//         smoothScrollToBottomPage();\n//         lightbox.refresh();\n//         return;\n//     }\n// }\n\n\n","// import axios from 'axios';\n\nexport default class PicturesApiService {\n    constructor() {\n        this.searchQuery = '';\n        this.page = 1;\n    }\n    fetchArticles () {\n        const BASE_URL = 'https://pixabay.com/api/';\n        const myAPIkey = '29146874-e25e04f0bbd5e8c4fffc4a4f6';\n        const url = `${BASE_URL}?key=${myAPIkey}&q=${this.searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&per_page=20&page=${this.page}`;\n        return fetch(url)\n        .then(r => r.json())\n        .then(data => {\n            this.incrementPage();\n            return data.hits;\n        });\n    }\n    incrementPage() {\n        this.page +=1;\n    }\n    resetPage() {\n        this.page = 1;\n    }\n    get query() {\n        this.searchQuery;\n    }\n    set query(newQuery) {\n        this.searchQuery = newQuery;\n    }\n\n}\n\n// const BASE_URL = 'https://pixabay.com/api/';\n// const myAPIkey = '29146874-e25e04f0bbd5e8c4fffc4a4f6';\n// const perPages = 40;\n\n// const fetchPictures = async(searchQuery, page) => {\n//     const response = await axios.get(`${BASE_URL}?key=${myAPIkey}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&per_page=${perPages}&page=${page}`);\n//     return response.data; \n// }\n// export default fetchPictures;"],"names":["$ee27a4d7c64fc8c4$export$21666b427502ea6d","formEl","document","querySelector","inputEl","btnSubmitEl","galleryEl","btnLoadMoreEl","totalHitsEl","$0c7e459c887bdbc2$export$2e2bcd8739ae039","array","result","reduce","acc","item","picture","largeImageURL","webformatURL","tags","likes","views","comments","downloads","$0c7e459c887bdbc2$var$createListAnimals","insertAdjacentHTML","$1f0dc3b9307be026$var$picturesApiServise","fetchArticles","url","this","searchQuery","page","fetch","then","r","json","data","incrementPage","hits","resetPage","query","newQuery","constructor","addEventListener","event","preventDefault","currentTarget","elements","value","innerHTML"],"version":3,"file":"index.2ce5e80f.js.map"}